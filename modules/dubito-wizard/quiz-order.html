<style>
.column {
	float: left;
	margin: 5px 5px 0px 0px;
	text-align: center;
	cursor: move;
}
</style>


<div class="modal fade" id="quiz-order" tabindex="-1" role="dialog"
	aria-labelledby="exampleModalLabel">
	<div class="modal-dialog" role="document">
		<div class="modal-content panel-default modal-lg">


			<!-- HEADER -->

			<div class="modal-header panel-heading">
				<h4 class="modal-title" id="exampleModalLabel">Modifier l'ordre
					des questions</h4>
			</div>


			<!-- BODY -->

			<div class="modal-body">
				<div class="row">

					<p class="col-lg-12">Réorganisez les questions par glisser /
						déposer</p>

					<div class="col-lg-12">

						<div class="col-lg-8 columns" html-sortable="sortable_option"
							ng-model="wizard.brouillon.quiz.cartesOrdonnees">

							<div class="column carte"
								ng-repeat="carte in wizard.brouillon.quiz.cartesOrdonnees"
								title="{{carte.intitule}}" data-toggle="tooltip"
								data-placement="top" title="{{wizard.displayedCard.intitule}}"
								ng-mouseenter="wizard.displayedCard = carte"
								ng-mouseleave="wizard.displayedCard = null">

								<span class="handle" title="carte.intitule"> <img
									src="images/drag-handle.png"></img>
								</span> <span class="corps">{{carte.id}}</span>

								<div
									ng-show="wizard.displayedCard && wizard.displayedCard == carte"
									class="tooltip bottom" role="tooltip">
									<div class="tooltip-arrow"></div>
									<div class="tooltip-inner">
										{{wizard.displayedCard.intitule}}</div>
								</div>

								<span style="cursor: pointer"
									ng-click="wizard.editCard({id:carte.id})"> <span
									class="glyphicon glyphicon-pencil"></span>
								</span> <span style="cursor: pointer"
									ng-click="carte.anchored = !carte.anchored"> <img
									ng-hide="carte.anchored"
									src="images/module-wizard-pin-empty.png" width="10" height="18"></img>
									<img ng-show="carte.anchored"
									src="images/module-wizard-pin-full.png" width="10" height="18"></img>
								</span>

							</div>
						</div>

						<div class="col-lg-4">
							<h4>Récapitulatif</h4>
							<ul class="list-group"
								style="overflow-y: scroll; max-height: 175px;">
								<li class="list-group-item carte_preview"
									ng-repeat="carte in wizard.brouillon.quiz.cartesOrdonnees">
									<span class="badge">#{{carte.id}}</span> <span
									ng-hide="carte.anchored">{{carte.intitule | limitTo:
										35}}</span> <span ng-show="carte.anchored"><strong>{{carte.intitule
											| limitTo: 35}}</strong></span>
								</li>
							</ul>
						</div>

						<div class="col-lg-12">
							<img src="images/module-wizard-pin-full.png" width="9"
								height="14"></img> <strong>Ancrer la carte.</strong> Une carte
							ancrée est un point fixe dans le jeu. Elle assure que toutes les
							questions précédentes auront été posées avant que celle-ci ne
							soit jouée, dans le cas d'un tirage aléatoire.
						</div>


					</div>
				</div>

			</div>



			<!-- FOOTER -->

			<div class="modal-footer">
				<p class="col-xs-6 col-lg-6 text-left">
					<button type="button" class="btn btn-primary"
						ng-click="wizard.leave()" data-dismiss="modal">
						<span class="glyphicon glyphicon-remove"></span> Quitter
					</button>
					<button type="button" class="btn btn-warning"
						ng-click="wizard.saveAndQuit()" data-dismiss="modal">
						<span class="glyphicon glyphicon-save"></span> Terminer
					</button>
				</p>
			</div>
		</div>
	</div>
	<script>
$('#ordering-tabs a').click(function (e) {
	  e.preventDefault()
	  $(this).tab('show')
	})
	
	$(function () {
  $('[data-toggle="tooltip"]').tooltip()
})
</script>
</div>
