
<style>
	.send-mail
	{
		font-size: 20px !important;
		margin-top: -34px;
		margin-left: -5px;
		margin-right: 7px;
		color: rgba(0,0,0,0.6);
	}
	
	.send-mail:hover
	{
		color: rgba(0,0,0,0.8);
	}

</style>

<div ng-show="odass.isModule('annuaire')">

	<div ng-controller="RepertoController as reperto" id="repertoControllerWrapper">


		<section id="annuaire-header" class="row">
			<div class="col-md-4">
				<p ng-show="reperto.activeFilters.keywords.length > 0">
					Filtres actifs :
					<span ng-show="reperto.activeFilters.keywords.length > 0">
						<span ng-repeat="filter in reperto.activeFilters.keywords"> 
							<span class="label label-info"> {{filter}} 
								<span style="cursor: pointer" class="glyphicon glyphicon-remove" ng-click="reperto.removeFilter('keywords', filter)"> </span>
							</span> &nbsp;
						</span>
					</span>
				</p>
			</div>
		</section>
		
		<section id="annuaire-body" class="row">
				
			
			<div class="well" style="width: 200px; height:200px; position: absolute; top:50%; left: 50%; margin-top: -100px; margin-left: -100px;padding: 25px;" ng-hide="reperto.guide_is_loaded">
				guide en cours de chargement...<br/><br/>
				<img style="margin: auto; display: block;" src="images/chargement.gif" width=75 height=75></img>
			</div>
			
			
			
				<!-- THESAURUS NAVIGATION ARBORESCENTE   -->
				
				
				
				
			<div class="col-md-3" ng-show="reperto.navigationmode == 'tree'">
				<section>
				
					<div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
					  	<div class="panel panel-default">
					  		<div class="panel-body" style="padding: 2px 20px 2px 2px">
							  	<a href="http://www.associations-citoyennes.net/" target="_blank"> 
									<img src="images/logo-CAC.jpg" alt="logo association citoyennes - http://www.associations-citoyennes.net/" class="img-responsive"> </img>
								</a>
								
								<a title="Envoyez vos commentaires sur le guide" data-toggle="modal" data-target="#ajouter-experience" class="glyphicon glyphicon-envelope pull-right send-mail" style="margin-right: -7px"></a>
							</div>
						</div>
					  	
					  	<div ng-repeat="item in reperto.thesaurus.nodes" class="panel panel-default {{reperto.cssClasses[item.id]}}">
							<div class="panel-heading" role="tab" id="headingOne">
						      	
					        	<a class="pull-right" role="button" ng-hide="reperto.isExpanded('h4-' + item.id)" ng-click="reperto.toggleExpandedZone('h4-' + item.id)">replier</a>
					        	<a class="pull-right" role="button" ng-show="reperto.isExpanded('h4-' + item.id)" ng-click="reperto.toggleExpandedZone('h4-' + item.id)">déplier</a>
						      	<h4 class="panel-title" href="#{{item.id}}" id="h4-{{item.id}}">
						      		<a ng-click="reperto.selectSection(item)">{{item.titre}}</a>
						      	</h4>
						      	
						    </div>
						    
						    <div id="{{item.id}}" class="panel-collapse" role="tabpanel" aria-labelledby="headingOne" ng-class="{ 'collapse': ! $first}">
						      	<div class="panel-body">
						        	<ol>
							        	<li ng-repeat="subItem in item.nodes">
							          		<div>
							            		<a href="" ng-click="reperto.selectChapter(item, subItem)">{{subItem.titre}}</a>
							          		</div>
							        	</li>
							      	</ol>
						      	</div>
							</div>
						</div>
					</div>
				</section>
				<div class="clearfix"></div>
			</div>



			<!--  COLONNE PRINCIPALE  -->
			 
			
			<div class="col-md-6" id="initiatives-area" ng-show="reperto.navigationmode == 'tree'">
				<p class="">
					<ol class="breadcrumb well" style="display: inline-block;margin-left: 15px; padding: 15px; font-weight: bold;">
					  <li ng-click="reperto.selectThesaurus()">
					  	
						<span class="glyphicon glyphicon-book"></span>
						<a href="#" style="font-size: 16px !important">{{reperto.display.guide.titre}}</a>
					  </li>
					  <li ng-click="reperto.selectSection(reperto.display.section)" ng-show="reperto.display.breadcrumb.section">
					  	<a href="#">{{reperto.display.breadcrumb.section}}</a>
					  </li>
					  <li ng-click="reperto.selectChapter(reperto.display.section, reperto.display.chapitre)" ng-show="reperto.display.breadcrumb.chapitre">
					  	<span>{{reperto.display.breadcrumb.chapitre}}</span>
					  </li>
					</ol>
					<!-- a class="btn btn-primary"><span class="glyphicon glyphicon-open"></span> ouvrir un autre repertoire</a-->
				</p>
				
				<h3 class="well" style="padding-left: 15px; margin-top: 22px; padding:15px; font-size:14px; color: rgba(0,0,0,0.8)">
					<span ng-show="reperto.activeFilters.keywords.length == 0" style="">{{reperto.display.idees.length}}</span>
					<span ng-show="reperto.activeFilters.keywords.length != 0" style="">{{reperto.ideaDisplayed}}</span>
					actions possibles&nbsp;&nbsp;
				</h3>
	
				<div style="" ng-show="reperto.navigationmode == 'tree'">
					 <idees></idees>
				 </div>
	
				<div class="clearfix"></div>
				
				<div ng-show="reperto.navigationmode == 'tree'" class="row">
					<nav aria-label="Page navigation">
					  <ul class="pagination pagination-sm">
					    <li><a href="#" ng-repeat="idee in reperto.display.pager.pagerItems track by $index" ng-click="reperto.setPagerIndex($index)">{{$index + 1}}</a></li>
					  </ul>
					</nav>
				</div>
			</div>
			
			<div ng-hide="reperto.navigationmode == 'print'" 
						class="col-lg-3 {{reperto.cssClasses[reperto.display.section.id]}} infozone" 
						style="float: right;  background-color: rgba(25,25,50,0.3); border-radius: 5px; padding: 15px; margin-right: -15px; color: white"
			>
				<h4>INFO       </h4>
				<p ng-show="reperto.display.section">
					<h3 ng-show="reperto.display.section" ng-bind-html="reperto.display.section.titre"></h3>
					
					<span ng-hide="reperto.display.section.displaylong" ng-bind-html="reperto.display.section.description"></span>
					<span ng-show="reperto.display.section.displaylong" ng-bind-html="reperto.display.section.descriptionlongue"></span>
					
					
					<a href="" ng-show="reperto.display.section && ! reperto.display.section.displaylong" ng-click="reperto.display.section.displaylong = true">voir plus</a>
					<a href="" ng-show="reperto.display.section && reperto.display.section.displaylong" ng-click="reperto.display.section.displaylong = false">voir moins</a>
				</p>
				
				<p ng-show="reperto.display.chapitre">
					<h3 ng-show="reperto.display.chapitre" ng-bind-html="reperto.display.chapitre.titre"></h3>
					
					<span ng-hide="reperto.display.chapitre.displaylong" ng-bind-html="reperto.display.chapitre.description"></span>
					<span ng-show="reperto.display.chapitre.displaylong" ng-bind-html="reperto.display.chapitre.descriptionlongue"></span>
					
					<a href="" ng-show="reperto.display.chapitre && ! reperto.display.chapitre.displaylong" ng-click="reperto.display.chapitre.displaylong = true">voir plus</a>
					<a href="" ng-show="reperto.display.chapitre && reperto.display.chapitre.displaylong" ng-click="reperto.display.chapitre.displaylong = false">voir moins</a>
				</p>
				
				<p ng-show="reperto.display.idee" ng-bind-html="reperto.display.idee.description"></p>
				<p ng-show="reperto.display.intro" ng-bind-html="reperto.thesaurus.description"></p>
			</div>
			
		</section>
		
		<div class="modal fade" id="ajouter-experience" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
		  	<div class="modal-dialog modal-lg" role="document">
		    	<div class="modal-content">
		      		<div class="modal-header panel-heading">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
						<h4>Ajouter une expérience</h4>
					</div>
				
		      		<div class="modal-body">
		       			<p>Vous souhaitez ajouter une expérience? Vous pouvez remplir le formulaire suivant :</p>
		       			
                        <h5>Pour vous contacter : </h5>
                        <div class="form-group col-xs-6">    
                            <label for="contact-nom">Nom : </label>
                            <input type="text" class="form-control" id="contact-nom" placeholder="Nom"> 
                        </div>
                        <div class="form-group col-xs-6">   
                            <label for="contact-prenom">Prénom : </label>
                            <input type="text" class="form-control" id="contact-prenom" placeholder="Prénom">
                        </div>
                        <div class="form-group col-xs-6">   
                            <label for="contact-email">Email : </label>
                            <input type="email" class="form-control" id="contact-email" placeholder="email@contact.org">
                        </div>
                        <div class="form-group col-xs-6">   
                            <label for="contact-telephone">Numéro de téléphone : </label>
                            <input type="tel" class="form-control" id="contact-telephone" placeholder="01 03 03 04 05">
                        </div>
                            
                        
                        
                        <h5>pour l'expérience :</h5>
                        <div>
                            <div class="form-group col-xs-6">    
                                <label for="experience-titre">Titre : </label>
                                <input type="text" class="form-control" id="experience-titre" placeholder="Titre (40 caractères max)" maxlength="40"> 
                            </div>
                            <div class="form-group col-xs-3">    
                                <label for="experience-cp">Code Postal : </label>
                                <input type="number" class="form-control" id="experience-cp" placeholder="91200" maxlength="5"> 
                            </div>
                            <div class="form-group col-xs-3">    
                                <label for="experience-ville">Ville : </label>
                                <input type="text" class="form-control" id="experience-ville" placeholder="Palaiseau"> 
                            </div>
                            
                            <div class="form-group col-xs-12">    
                                <label for="experience-titre">Description : </label>
                                <textarea class="form-control" id="experience-titre" placeholder="Titre (40 caractères max)" rows="5"> </textarea>
                            </div>
                            
                            <div class="form-group col-xs-12">    
                                <label for="experience-portee">Portée : </label>
                                <label class="radio-inline"><input type="radio" name="experience-portee">Locale</label>
                                <label class="radio-inline"><input type="radio" name="experience-portee">Départementale</label>
                                <label class="radio-inline"><input type="radio" name="experience-portee">Nationale</label> 
                            </div>
                            
                            <div class="form-group col-xs-6">    
                                <label for="experience-reference-nom">Référence (optionnel): </label>
                                <input type="number" class="form-control" id="experience-reference-nom" placeholder="91200"> 
                            </div>
                            
                            <div class="form-group col-xs-6">    
                                <label for="experience-reference-href">Lien (optionnel): </label>
                                <input type="number" class="form-control" id="experience-reference-href" placeholder="http://www.votresite.org"> 
                            </div>
                            
                            <div class="form-group col-xs-12">    
                                <label for="experience-engagement">Etes vous engagé.e dans cette expérience ? </label>
                                <label class="radio-inline"><input type="radio" name="experience-engagement">Oui</label>
                                <label class="radio-inline"><input type="radio" name="experience-engagement">Non</label>
                                <p> Si vous n'êtes pas personnellement engagé.e dans cette expérience, nous contacterons la personne que vous aurez indiquée pour obtenir son accord avant de publier cette expérience.</p>
                            </div>
                            
                        </div>
                        <p>Toute l'équipe du CAC vous remercie pour votre participation.</p>
		    		</div>
		  		</div>
			</div>
		</div>
	
	</div>
</div>


